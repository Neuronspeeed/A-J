# Experiment Data Directory

This directory contains experimental results and visualizations from the thinking transplant study.

## Directory Structure

```
data/
├── phase1/                           # Phase 1 experimental results
├── phase2/                           # Phase 2 experimental results
├── phase3/                           # Phase 3 results (future)
├── comprehensive_analysis.png        # Complete verification overview
├── phase1_detailed_analysis.png     # Phase 1 detailed charts
├── phase2_detailed_analysis.png     # Phase 2 detailed charts
├── model_comparison.png             # Model performance comparison
└── analysis/                        # Legacy analysis outputs
```

## File Naming

Files use timestamps for easy identification:

```
phase1_thinking-experiment_YYYYMMDD_HHMMSS.csv
phase2_transplant-test_YYYYMMDD_HHMMSS.csv
```

## File Contents

**CSV Files**: Complete trial data with columns for model_name, condition, problem_id, response, digits_correct, and error information.

**Analysis**: Load files with pandas and group by condition to compare accuracy across experiments.

## Data Analysis Examples

```python
import pandas as pd

# Load Phase 1 results
df1 = pd.read_csv('data/phase1/phase1_thinking-experiment_20250729_230045.csv')
accuracy = df1.groupby('condition')['digits_correct'].mean()

# Load Phase 2 results  
df2 = pd.read_csv('data/phase2/phase2_transplant-test_20250729_230045.csv')
baseline = df2[df2['condition'] == 'baseline_no_numbers']['digits_correct'].mean()
transplant = df2[df2['condition'] == 'with_transplanted_numbers']['digits_correct'].mean()
effect = transplant - baseline
```

## Key Metrics

**Phase 1**: Compare baseline (no first question) vs think-about-solution (best expected) vs other conditions.

**Phase 2**: Compare baseline (no numbers) vs transplant (with AI-generated numbers). Effect size = transplant - baseline.

## Data Integrity

Phase 2 only uses real AI-generated numbers from Phase 1. No fallback or synthetic data is used. Files are timestamped to track experiment sequence.

## Verified Results

**Phase 1 (1,346 valid trials, 98.4% completion):**
- Baseline: 3.180 digits correct
- Think about solution: 3.973 digits correct (+24.9% improvement)
- Best condition: memorized (4.261 digits correct)

**Phase 2 (606 valid trials, 96.2% completion):**
- Baseline: 4.451 digits correct
- Transplanted numbers: 4.500 digits correct (+1.1% overall)
- Model-specific effects: gpt-4o-mini (+61.3%), gpt-4.1-mini (+45.3%)

## Visualizations

**Generated by `python analysis/comprehensive_verification.py`:**
- `comprehensive_analysis.png` - Complete 4-panel overview with data quality summary
- `phase1_detailed_analysis.png` - Phase 1 distributions, model performance, condition comparison
- `phase2_detailed_analysis.png` - Phase 2 violin plots, model comparisons, data quality
- `model_comparison.png` - Cross-phase model performance analysis

## Usage

**Generate data:**
```bash
python main_phase1.py  # Generate Phase 1 data
python main_phase2.py  # Generate Phase 2 data (uses latest Phase 1)
```

**Analyze and visualize:**
```bash
python analysis/comprehensive_verification.py  # Complete verification + charts
```
